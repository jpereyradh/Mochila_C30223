(("undefined"!==typeof self?self:this).webpackJsonp=("undefined"!==typeof self?self:this).webpackJsonp||[]).push([[39],{1400:function(e,t,i){"use strict";var a=i(6),o=i(215),n=i(38),r=i(48),s=i(19),l=i(196),d=i(359),c=Object(a.defineComponent)({__name:"SurfaceDropdownReactionBase",props:{usageContext:null,preferredModalModeHeight:null,dropdownLabel:null,closeButtonAriaLabel:{default:""},submitButtonAriaLabel:{default:""},modalModeTitle:null,isPadletColorSchemeDark:{type:Boolean},xModalModeSubmitButton:{type:Boolean,default:!1},canSubmit:{type:Boolean,default:!0}},setup(e){const t=e,i=Object(s.f)(Object(l.b)()).isSmallerThanTabletPortrait,c=Object(s.f)(Object(l.b)()).windowHeight,h=Object(a.computed)(()=>"postExpandedView"===t.usageContext),{reactionDropdownTop:u,reactionDropdownLeft:m,reactionDropdownWidth:p}=Object(s.f)(Object(d.a)()),{stopEditingReaction:f}=Object(d.a)(),g=Object(a.computed)(()=>i.value?{bottom:"env(safe-area-inset-bottom, 0px)",left:"0px",right:"0px"}:{left:m.value+"px",top:u.value+"px",minWidth:p.value+"px"});return{__sfc:!0,props:t,isSmallerThanTabletPortrait:i,windowHeight:c,isUsedInPostExpandedView:h,reactionDropdownTop:u,reactionDropdownLeft:m,reactionDropdownWidth:p,stopEditingReaction:f,dropdownStyle:g,handleModalModeCancel:function(){i.value||f()},OzDrawerDraggable:o.a,OzTextButton:n.default,OzTextButtonColorScheme:n.OzTextButtonColorScheme,OzOverlay:r.a}}}),h=i(3),u=Object(h.a)(c,(function(){var e=this,t=e._self._c,i=e._self._setupProxy;return i.isSmallerThanTabletPortrait?t(i.OzDrawerDraggable,{attrs:{"dark-mode":e.isPadletColorSchemeDark,"disable-drag":!0,"preferred-tray-start-height":e.preferredModalModeHeight,"should-full-size-cover-screen":!0,"should-fade-in":!1,"window-height":i.windowHeight,role:"dialog","aria-label":e.dropdownLabel},on:{"scrim-click":i.handleModalModeCancel,"scrim-esc":i.handleModalModeCancel},scopedSlots:e._u([{key:"header",fn:function(){return[t("div",{staticClass:"grid grid-cols-3 items-center pt-4 pb-3 px-4"},[t(i.OzTextButton,{staticClass:"col-start-1 px-1.5 me-auto text-17 font-semibold",attrs:{"color-scheme":i.OzTextButtonColorScheme.Secondary,"dark-mode":e.isPadletColorSchemeDark,text:e.__("Close"),"aria-label":e.closeButtonAriaLabel||e.__("Close")},on:{click:function(e){return e.stopPropagation(),i.stopEditingReaction.apply(null,arguments)}}}),e._v(" "),t("div",{class:["col-start-2","justify-self-center","font-sans text-heading-3","font-semibold",e.isPadletColorSchemeDark?"text-light-text-100":"text-dark-text-100"]},[e._v("\n        "+e._s(e.modalModeTitle)+"\n      ")]),e._v(" "),e.xModalModeSubmitButton?t(i.OzTextButton,{staticClass:"col-start-3 px-1.5 ms-auto text-17 font-semibold",attrs:{"color-scheme":i.OzTextButtonColorScheme.Primary,"dark-mode":e.isPadletColorSchemeDark,text:e.__("Submit"),"aria-label":e.submitButtonAriaLabel||e.__("Submit"),disabled:!e.canSubmit},on:{click:function(t){return t.stopPropagation(),e.$emit("submit")}}}):e._e()],1)]},proxy:!0},{key:"body",fn:function(){return[e._t("modalModeContent")]},proxy:!0}],null,!0)}):t(i.OzOverlay,{staticClass:"bg-transparent",attrs:{role:"dialog","aria-label":e.dropdownLabel,scrim:null,"should-fade-in":!1,"z-index-class":i.isUsedInPostExpandedView?"z-modal-dropdown":"z-dropdown"},on:{"scrim-click":i.stopEditingReaction,"scrim-esc":i.stopEditingReaction}},[t("div",{class:["fixed","flex","flex-row","items-center","justify-between","rounded-xl","shadow-drop-shadow","box-border","h-12","blurred-bg","px-3","animate-dropdown-in",e.isPadletColorSchemeDark?"bg-modal-top-dark":"bg-light-ui-100"],style:i.dropdownStyle},[e._t("dropdownModeContent")],2)])}),[],!1,null,null,null);t.a=u.exports},215:function(e,t,i){"use strict";var a=i(0),o=i(217),n=i.n(o),r=i(48),s=function(e,t,i,a){var o,n=arguments.length,r=n<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,a);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(n<3?o(r):n>3?o(t,i,r):o(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},l=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let d=class extends a.j{constructor(){super(...arguments),this.MAX_TOP_MARGIN=0,this.MIN_TOP_MARGIN=0,this.DRAG_DISTANCE_AT_TOP=0,this.DRAG_DISTANCE_MIN=0,this.dragDistanceY=0,this.dragDistanceYBeforeStart=0,this.latestVelocityY=0,this.latestPanEventTimestamp=0,this.draggedToFullSize=!1,this.scrollEnabled=!1,this.panEnabled=!1,this.marginTop=0,this.scrollTop=0,this.isDragStartEmittedForScroll=!1,this.scrollWithPan=!1}handleDragDisable(e){e?this.removePanListener():this.addPanListener()}handleResize(e){e?(this.resetElement("full","slow"),setTimeout(()=>{document.documentElement.scrollTop=0},100),this.removePanListener()):(this.resetElement("top","slow"),this.addPanListener())}updateElement(){this.$nextTick(()=>{const e=this.$refs.modalContainer;e&&(this.marginTop=this.MAX_TOP_MARGIN+this.dragDistanceY,this.marginTop===this.MIN_TOP_MARGIN?this.draggedToFullSize=!0:this.draggedToFullSize=!1,e.style.marginTop=this.marginTop+"px")})}addTransition(e="slow"){const t=this.$refs.modalContainer;t&&(t.style.transition="slow"===e?"margin 150ms cubic-bezier(0.4, 0, 0.2, 1)":"margin 50ms cubic-bezier(0.4, 0, 0.2, 1)",setTimeout(()=>{t.style.transition=""},"slow"===e?150:100))}resetElement(e="bottom",t="slow"){this.addTransition(t),"bottom"===e?(this.dragDistanceY=0,this.disableScroll()):"top"===e?(this.dragDistanceY=this.DRAG_DISTANCE_AT_TOP,this.enableScroll()):"full"===e?(this.dragDistanceY=-this.MAX_TOP_MARGIN,this.enableScroll()):"out"===e&&(this.dragDistanceY=this.windowHeight),this.updateElement()}computeEndVelocity({endEvent:e,lastPanEvent:t}){const i=(e.velocity+t.velocity)/Math.abs(e.velocity+t.velocity);return e.timestamp-t.timestamp>60?i*Math.max(Math.abs(t.velocity),e.velocity)*1e3:i*Math.abs(e.velocity)*1e3}get isScrollingWholeModal(){return"whole"===this.scrollType}get scrollingElement(){return this.isScrollingWholeModal?this.$refs.modalContainerInnerWrapper:this.$refs.modalBody}handleTrayScrollStart(e){this.touchStartY=e.touches[0].clientY,this.isDragStartEmittedForScroll=!1}handleTrayScroll(e){if(!this.scrollEnabled)return void(e.cancelable&&e.preventDefault());this.isDragStartEmittedForScroll||(this.isDragStartEmittedForScroll=!0,this.$emit("dragstart"));const t=this.scrollingElement;t&&(this.panEnabled&&t.scrollTop<0?e.preventDefault():this.panEnabled&&0===t.scrollTop&&(this.touchStartY&&this.touchStartY>e.changedTouches[0].clientY+5||this.touchStartY&&this.touchStartY<e.changedTouches[0].clientY-5&&e.cancelable&&e.preventDefault()),this.scrollTimeout&&(clearTimeout(this.scrollTimeout),this.scrollTimeout=void 0),this.scrollTimeout=setTimeout(()=>{this.scrollTop=t.scrollTop;this.scrollTop<=5?this.addPanListener():this.removePanListener()},250))}enableScroll(){this.scrollEnabled=!0,this.scrollingElement.style.overflow="auto"}disableScroll(){this.scrollEnabled=!1,this.scrollingElement.style.overflow="visible"}handleStartPan(){this.dragDistanceYBeforeStart=this.dragDistanceY;const e=this.scrollingElement;this.scrollEnabled&&0===e.scrollTop&&(this.scrollWithPan=!0),this.$emit("dragstart")}handlePanMove(e,t,i){if(this.scrollWithPan&&e<0){this.scrollingElement.scrollTop=-e,this.scrollWithPan=!1}else this.dragDistanceY=Math.max(this.dragDistanceYBeforeStart+e,this.DRAG_DISTANCE_AT_TOP),this.updateElement(),this.latestVelocityY=t,this.latestPanEventTimestamp=i,this.$emit("dragging",e)}handlePanEnd(e,t){const i=this.computeEndVelocity({endEvent:{velocity:e,timestamp:t},lastPanEvent:{velocity:this.latestVelocityY,timestamp:this.latestPanEventTimestamp}});this.dragDistanceY<=this.DRAG_DISTANCE_AT_TOP&&(this.dragDistanceY=this.DRAG_DISTANCE_AT_TOP,this.enableScroll());const a=this.dragDistanceYBeforeStart<=this.DRAG_DISTANCE_AT_TOP;i>300?(this.$emit("swipedown",{isAtTopBeforeDragging:a}),this.latestVelocityY+e>0?this.resetElement("bottom","fast"):this.resetElement("top","fast")):i<-300?(this.$emit("swipeup",{isAtTopBeforeDragging:a}),this.latestVelocityY+e<0?this.resetElement("top","fast"):this.resetElement("bottom","fast")):this.dragDistanceY>this.DRAG_DISTANCE_AT_TOP/2?this.resetElement("bottom","slow"):this.DRAG_DISTANCE_AT_TOP/2>this.dragDistanceY&&this.dragDistanceY>this.DRAG_DISTANCE_AT_TOP&&this.resetElement("top","slow"),this.$emit("dragend",this.dragDistanceY)}addPanListener(){if(!this.fullSize)if(this.disableDrag)this.enableScroll();else{if(!this.hammer){const e=this.$refs.modalContainerInner;this.hammer=new n.a(e)}this.hammer.get("pan").set({direction:n.a.DIRECTION_VERTICAL}),this.hammer.on("panstart",e=>{this.handleStartPan()}),this.hammer.on("panmove",e=>{this.handlePanMove(e.deltaY,e.velocityY,e.timeStamp)}),this.hammer.on("panend",e=>{this.handlePanEnd(e.velocityY,e.timeStamp)}),this.panEnabled=!0}}removePanListener(){this.hammer&&(this.hammer.off("panstart panmove panend"),this.panEnabled=!1)}computePrecalculatedMeasurement(){this.MAX_TOP_MARGIN=this.preferredTrayStartHeight?this.windowHeight-this.preferredTrayStartHeight:this.windowHeight/4,this.MIN_TOP_MARGIN=(()=>{var e;if(this.shouldFullSizeCoverScreen)return this.minTopMargin;const t=this.$refs.modalBodyContent;if(t){const i=this.windowHeight-t.clientHeight-(null===(e=this.$refs.header)||void 0===e?void 0:e.clientHeight);return i>this.MAX_TOP_MARGIN||i<0?this.minTopMargin:i}return this.minTopMargin})(),this.DRAG_DISTANCE_AT_TOP=-this.MAX_TOP_MARGIN+Math.max(0,this.MIN_TOP_MARGIN),this.DRAG_DISTANCE_MIN=-this.MAX_TOP_MARGIN+this.MIN_TOP_MARGIN}setStartingTopMargin(){this.marginTop=this.MAX_TOP_MARGIN,(this.fullSize||this.draggedToFullSize)&&(this.dragDistanceY=this.DRAG_DISTANCE_AT_TOP),this.updateElement()}recalculateMeasurement(){this.$nextTick(()=>{this.computePrecalculatedMeasurement(),this.setStartingTopMargin()})}mounted(){this.computePrecalculatedMeasurement(),this.setStartingTopMargin(),this.addPanListener()}scrimClick(){this.$emit("scrim-click")}scrimEsc(){this.$emit("scrim-esc")}};s([Object(a.h)({default:!0}),l("design:type",Boolean)],d.prototype,"xHeader",void 0),s([Object(a.h)({required:!0}),l("design:type",Number)],d.prototype,"windowHeight",void 0),s([Object(a.h)({default:!1}),l("design:type",Boolean)],d.prototype,"xDrawerHandle",void 0),s([Object(a.h)({default:!1}),l("design:type",Boolean)],d.prototype,"fullSize",void 0),s([Object(a.h)({default:!1}),l("design:type",Boolean)],d.prototype,"disableDrag",void 0),s([Object(a.h)({default:"body"}),l("design:type",String)],d.prototype,"scrollType",void 0),s([Object(a.h)({default:"auto"}),l("design:type",Object)],d.prototype,"darkMode",void 0),s([Object(a.h)({default:void 0}),l("design:type",Number)],d.prototype,"preferredTrayStartHeight",void 0),s([Object(a.h)({default:!1}),l("design:type",Boolean)],d.prototype,"shouldFullSizeCoverScreen",void 0),s([Object(a.h)({default:!0}),l("design:type",Boolean)],d.prototype,"xScrim",void 0),s([Object(a.h)({default:!1}),l("design:type",Boolean)],d.prototype,"isScrimSpectral",void 0),s([Object(a.h)({default:!0}),l("design:type",Boolean)],d.prototype,"shouldFadeIn",void 0),s([Object(a.h)({default:0}),l("design:type",Number)],d.prototype,"minTopMargin",void 0),s([Object(a.h)({required:!1}),l("design:type",String)],d.prototype,"zIndexClass",void 0),s([Object(a.h)({required:!1}),l("design:type",Boolean)],d.prototype,"hideScrollbar",void 0),s([Object(a.k)("disableDrag"),l("design:type",Function),l("design:paramtypes",[Boolean]),l("design:returntype",void 0)],d.prototype,"handleDragDisable",null),s([Object(a.k)("fullSize"),l("design:type",Function),l("design:paramtypes",[Boolean]),l("design:returntype",void 0)],d.prototype,"handleResize",null),s([Object(a.k)("preferredTrayStartHeight"),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],d.prototype,"recalculateMeasurement",null),d=s([Object(a.b)({components:{OzOverlay:r.a}})],d);var c=d,h=(i(265),i(3)),u=Object(h.a)(c,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("transition",{attrs:{"leave-active-class":"out"}},[t("OzOverlay",{class:["overflow-hidden","flex","flex-col","justify-end","items-center","font-sans"],attrs:{"is-spectral":e.isScrimSpectral,scrim:e.xScrim?"modal":null,"should-fade-in":e.shouldFadeIn,"z-index-class":e.zIndexClass,"dark-mode":e.darkMode},on:{"scrim-click":e.scrimClick,"scrim-esc":e.scrimEsc}},[t("div",{ref:"modalContainer",class:[{"mt-96 min-h-auto w-full":!0,"h-full":e.shouldFullSizeCoverScreen,"overflow-auto flex flex-col":!0,"no-scrollbar":e.hideScrollbar,"modal-container":!0,"shadow-elevation-5":!e.fullSize&&!e.draggedToFullSize,"rounded-none":(e.fullSize||e.draggedToFullSize)&&e.MIN_TOP_MARGIN===e.minTopMargin,"rounded-3xl rounded-br-none rounded-bl-none":!e.fullSize&&!e.draggedToFullSize||e.MIN_TOP_MARGIN>e.minTopMargin,"full-size":e.fullSize||e.draggedToFullSize,"bg-light-ui-100 dark:bg-dark-ui-100":"auto"===e.darkMode,"bg-light-ui-100 ":!1===e.darkMode,"bg-dark-ui-100":!0===e.darkMode,"pb-safe-inset-bottom":!0}]},[t("div",{ref:"modalContainerInner",class:[{"bg-light-ui-100 dark:bg-dark-ui-100":"auto"===e.darkMode,"bg-light-ui-100 ":!1===e.darkMode,"bg-dark-ui-100":!0===e.darkMode,"min-h-full flex flex-grow flex-col overflow-hidden":!0}]},[t("div",{ref:"modalContainerInnerWrapper",class:[e.isScrollingWholeModal?"block":"contents","pb-0"]},[e.xHeader?t("header",{ref:"header"},[e.xDrawerHandle?t("div",{staticClass:"flex justify-center mb-2 pt-1",attrs:{id:"tray-expander-controller"}},[t("div",{staticClass:"rounded w-7 h-1 bg-highway-disabled dark:bg-white-disabled"})]):e._e(),e._v(" "),e._t("header")],2):e._e(),e._v(" "),t("div",{ref:"modalBody",class:{"h-auto flex flex-grow flex-col p-0 overflow-hidden":!0,"overflow-y-auto":e.fullSize||e.draggedToFullSize},on:{touchstart:e.handleTrayScrollStart,touchmove:e.handleTrayScroll,touchend:function(t){return e.$emit("dragend",e.dragDistanceY)}}},[t("div",{ref:"modalBodyContent"},[e._t("body")],2)])])])])])],1)}),[],!1,null,"a09f9f52",null);t.a=u.exports},219:function(e,t,i){var a=i(266);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,i(45).default)("cda50bb2",a,!0,{})},223:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var a=i(75),o=i(40),n=i.n(o),r=i(19),s=i(6);const l=Object(r.d)("darkMode",()=>{const e=Object(s.ref)(!0),t=Object(s.ref)(!1),i=Object(s.ref)(!1),o=Object(s.computed)(()=>e.value?t.value:i.value),r=Object(a.a)(n()(e=>t.value=e,100));return{isAutoDetectDarkMode:e,browserDarkModeValue:t,userDarkModeValue:i,isDarkMode:o,unobserveDarkMode:r}})},265:function(e,t,i){"use strict";i(219)},266:function(e,t,i){(e.exports=i(44)(!1)).push([e.i,".modal-container[data-v-a09f9f52] {\n  max-height: none;\n  animation-name: modal-slide-up-a09f9f52;\n  animation-duration: 0.2s;\n  animation-timing-function: cubic-bezier(0, 0, 0.2, 1);\n}\n.modal-container.full-size[data-v-a09f9f52] {\n    animation-duration: 0.4s;\n}\n.out .modal-container[data-v-a09f9f52] {\n    animation-name: modal-slide-down-a09f9f52;\n    animation-duration: 0.15s;\n    animation-timing-function: cubic-bezier(0.4, 0, 1, 1);\n    animation-fill-mode: forwards;\n}\n@keyframes modal-slide-up-a09f9f52 {\n0% {\n    transform: translateY(100%);\n}\n100% {\n    transform: translateY(0);\n}\n}\n@keyframes modal-slide-down-a09f9f52 {\n0% {\n    transform: translateY(0);\n}\n100% {\n    transform: translateY(100%);\n}\n}\n",""])}}]);
//# sourceMappingURL=39-afa75637ad6a49ae0ee3.chunk.js.map